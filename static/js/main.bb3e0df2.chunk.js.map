{"version":3,"sources":["Components/Controls/Controls.module.css","Components/Controls/Controls.jsx","Components/Balance/Balance.jsx","Components/TransactionHistory/TransactionHistory.jsx","Components/Dashboard/Dashboard.jsx","Components/App/App.jsx","index.js","Components/Balance/Balance.module.css","Components/TransactionHistory/TransactionHistory.module.css"],"names":["module","exports","Controls","inputValue","handleChange","handleClick","className","styles","controls","controls__input","type","value","onChange","controls__button","name","onClick","Balance","balance","deposits","withdrawals","balance__text","TransactionHistory","transactions","transaction","transaction__head","transaction__item","map","key","id","amount","date","Dashboard","state","event","setState","target","Date","toLocaleString","newTransactions","shortid","generate","Number","toast","error","warn","parsistedTransactions","localStorage","getItem","parsistedBalance","this","JSON","parse","prevProps","prevState","setItem","stringify","reduce","acc","deposit","withdrawal","Component","configure","autoClose","draggable","position","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb3e0df2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1Qsht\",\"controls__input\":\"Controls_controls__input__DDsHN\",\"controls__button\":\"Controls_controls__button__11Fr_\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ inputValue, handleChange, handleClick }) => (\n  <section className={styles.controls}>\n    <input\n      className={styles.controls__input}\n      type=\"number\"\n      value={inputValue}\n      onChange={handleChange}\n    />\n    <button\n      className={styles.controls__button}\n      type=\"button\"\n      name=\"deposit\"\n      onClick={handleClick}\n    >\n      Deposit\n    </button>\n    <button\n      className={styles.controls__button}\n      type=\"button\"\n      name=\"withdrawal\"\n      onClick={handleClick}\n    >\n      Withdraw\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  inputValue: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ balance, deposits, withdrawals }) => (\n  <section className={styles.balance}>\n    <span className={styles.balance__text}>&#8593; {`${deposits}$`}</span>\n    <span className={styles.balance__text}>&#8595; {`${withdrawals}$`}</span>\n    <span className={styles.balance__text}>Balance: {`${balance}`}</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  deposits: PropTypes.number.isRequired,\n  withdrawals: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => (\n  <table className={styles.transaction}>\n    <thead className={styles.transaction__head}>\n      <tr>\n        <th>Transaction</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody className={styles.transaction__item}>\n      {transactions.map(transaction => (\n        <tr key={transaction.id}>\n          <td>{transaction.type}</td>\n          <td>{`${transaction.amount}$`}</td>\n          <td>{transaction.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { toast } from 'react-toastify';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n    inputValue: '',\n  };\n\n  componentDidMount() {\n    const parsistedTransactions = localStorage.getItem('transactions');\n    const parsistedBalance = localStorage.getItem('balance');\n\n    if (parsistedTransactions && parsistedBalance) {\n      this.setState({\n        transactions: JSON.parse(parsistedTransactions),\n        balance: JSON.parse(parsistedBalance),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify([...transactions]));\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  handleChange = event => {\n    if (/^([0-9.?])+$/) {\n      this.setState({\n        inputValue: event.target.value,\n      });\n    }\n  };\n\n  handleClick = ({ target }) => {\n    const date = new Date().toLocaleString();\n    const { balance, inputValue } = this.state;\n\n    const newTransactions = {\n      id: shortid.generate(),\n      type: target.name,\n      amount: Number(inputValue),\n      date,\n    };\n\n    if (newTransactions.type === 'withdrawal' && inputValue > balance) {\n      toast.error('На счету недостаточно средств для проведения операции!');\n      return;\n    }\n    if (newTransactions.amount <= 0 || !newTransactions.amount) {\n      toast.warn('Введите сумму для проведения операции!');\n      return;\n    }\n\n    this.setState(state => ({\n      transactions: [...state.transactions, newTransactions],\n      balance:\n        newTransactions.type === 'deposit'\n          ? state.balance + newTransactions.amount\n          : state.balance - newTransactions.amount,\n      inputValue: '',\n    }));\n  };\n\n  render() {\n    const { balance, transactions, inputValue } = this.state;\n\n    const deposits = [...transactions].reduce((acc, deposit) => {\n      if (deposit.type === 'deposit') {\n        return acc + deposit.amount;\n      }\n      return acc;\n    }, 0);\n\n    const withdrawals = [...transactions].reduce((acc, withdrawal) => {\n      if (withdrawal.type === 'withdrawal') {\n        return acc + withdrawal.amount;\n      }\n      return acc;\n    }, 0);\n\n    return (\n      <div className=\"dashboard\">\n        <Controls\n          inputValue={inputValue}\n          handleChange={this.handleChange}\n          handleClick={this.handleClick}\n        />\n        <Balance\n          balance={balance}\n          withdrawals={withdrawals}\n          deposits={deposits}\n        />\n        <TransactionHistory transactions={transactions} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport { toast } from 'react-toastify';\nimport Dashboard from '../Dashboard/Dashboard';\nimport './App.css';\n\ntoast.configure({\n  autoClose: 3000,\n  draggable: false,\n  position: 'bottom-right',\n});\n\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__29HHI\",\"balance__text\":\"Balance_balance__text__3dfJf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transaction\":\"TransactionHistory_transaction__crgHB\",\"transaction__head\":\"TransactionHistory_transaction__head__kvVwq\",\"transaction__item\":\"TransactionHistory_transaction__item__22xy8\"};"],"sourceRoot":""}